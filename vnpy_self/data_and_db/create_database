CREATE SCHEMA `vnpy` ;

-- vnpy.dbbardata definition
 
CREATE TABLE `vnpy`.`dbbardata` (
  `id` int NOT NULL AUTO_INCREMENT,
  `symbol` varchar(255) NOT NULL,
  `exchange` varchar(255) NOT NULL,
  `datetime` datetime NOT NULL,
  `interval` varchar(255) NOT NULL,
  `volume` double NOT NULL,
  `turnover` double NOT NULL,
  `open_interest` double NOT NULL,
  `open_price` double NOT NULL,
  `high_price` double NOT NULL,
  `low_price` double NOT NULL,
  `close_price` double NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `dbbardata_symbol_exchange_interval_datetime` (`symbol`,`exchange`,`interval`,`datetime`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
 
 
-- vnpy.dbbaroverview definition
 
CREATE TABLE `vnpy`.`dbbaroverview` (
  `id` int NOT NULL AUTO_INCREMENT,
  `symbol` varchar(255) NOT NULL,
  `exchange` varchar(255) NOT NULL,
  `interval` varchar(255) NOT NULL,
  `count` int NOT NULL,
  `start` datetime NOT NULL,
  `end` datetime NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `dbbaroverview_symbol_exchange_interval` (`symbol`,`exchange`,`interval`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE `vnpy`.`trading_schedule` (
  `id` int NOT NULL AUTO_INCREMENT,
  `date` date NOT NULL,
  `symbol` varchar(255) NOT NULL,
  `strategy` varchar(255) NOT NULL,
  `sc_symbol` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `vnpy`.`strategy_order` (
  `id` int NOT NULL AUTO_INCREMENT,
  `datetime` datetime NOT NULL,
  `vt_orderid` varchar(255) NOT NULL,
  `strategy` varchar(255) NOT NULL,
  `symbol` varchar(255) NOT NULL,
  `intention` varchar(255) NOT NULL,
  `pos` double NOT NULL,
  `tar` double NOT NULL,
  `price` double NOT NULL,
  `tif` varchar(255) NOT NULL,
  `order_status` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE `vnpy`.`trading_hours` (
  `id` int NOT NULL AUTO_INCREMENT,
  `date` date NOT NULL,
  `rqsymbol` varchar(255) NOT NULL,
  `symbol` varchar(255) NOT NULL,
  `trading_hours` varchar(255) DEFAULT '',
  `timezone` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


CREATE TABLE `vnpy`.`universe` (
  `id` int NOT NULL AUTO_INCREMENT,
  `date` date NOT NULL,
  `root_symbol` varchar(255) NOT NULL,
  `multiplier` double NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- This is for self-maintanance
-- CREATE TABLE `vnpy`.`exchange_times` (
--   `id` int NOT NULL AUTO_INCREMENT,
--   `exchange` varchar(255) NOT NULL,
--   `symbol` varchar(255) NOT NULL,
--   `mon_open_auctions` varchar(255) DEFAULT '',
--   `mon_cont_trading` varchar(255)  DEFAULT '',
--   `tue_open_auctions` varchar(255) DEFAULT '',
--   `tue_cont_trading` varchar(255)  DEFAULT '',
--   `wed_open_auctions` varchar(255) DEFAULT '',
--   `wed_cont_trading` varchar(255)  DEFAULT '',
--   `thu_open_auctions` varchar(255) DEFAULT '',
--   `thu_cont_trading` varchar(255)  DEFAULT '',
--   `fri_open_auctions` varchar(255) DEFAULT '',
--   `fri_cont_trading` varchar(255)  DEFAULT '',
--   `sat_open_auctions` varchar(255) DEFAULT '',
--   `sat_cont_trading` varchar(255)  DEFAULT '',
--   `sun_open_auctions` varchar(255) DEFAULT '',
--   `sun_cont_trading` varchar(255)  DEFAULT '',
--   `timezone` varchar(255) NOT NULL,
--   PRIMARY KEY (`id`)
-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;


-- This is for self-maintanance
-- CREATE TABLE `vnpy`.`holiday` (
--   `id` int NOT NULL AUTO_INCREMENT,
--   `exchange` varchar(255) NOT NULL,
--   `symbol` varchar(255) NOT NULL,
--   `pause_types` varchar(255) NOT NULL,
--   PRIMARY KEY (`id`)
-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
